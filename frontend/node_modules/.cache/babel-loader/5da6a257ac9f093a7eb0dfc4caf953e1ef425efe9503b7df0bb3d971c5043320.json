{"ast":null,"code":"// In src/components/UserProfile.js\nimport React,{useState,useEffect}from'react';import'./css/userProfile.css';// Make sure to create a corresponding CSS file for styling\nimport AdvicePosts from'./AdvicePosts';import CommunityPage from'./communityPage';import ResourcesPage from'./resourcesPage';import PersonalDashboardPage from'./personalDashboard';import CreateAdvicePost from'./CreateAdvicePost';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function UserProfile(_ref){let{user,onLogout,adviceNav,postCreateNav,onNavigate}=_ref;const[activeTab,setActiveTab]=useState(null);const[showCreateAdvicePosts,setCreateAdvicePosts]=useState(false);useEffect(()=>{// Store the current page and user in localStorage whenever they change\nsetActiveTab(localStorage.getItem('activeTab'));},[]);const handleLogout=async e=>{e.preventDefault();//setError(''); // Reset error message\ntry{const response=await fetch('/logout',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include'// Necessary for sessions/cookies handling\n});const data=await response.json();if(!response.ok)throw new Error(data.message||'Failed to login');handleTabChange(null);onLogout(data);}catch(error){//setError(error.message);\n}};const handleTabChange=tab=>{localStorage.setItem('activeTab',tab);setActiveTab(tab);setCreateAdvicePosts(false);};const toggleCreatePosts=()=>{setCreateAdvicePosts(!showCreateAdvicePosts);};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-buttons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-greeting\",children:[\"Hi, \",user.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTabChange('advice'),className:activeTab==='advice'?'active':'',children:\"Advice\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTabChange('resources'),className:activeTab==='resources'?'active':'',children:\"Resources\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTabChange('community'),className:activeTab==='community'?'active':'',children:\"Community\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTabChange(\"null\"),className:\"home-button\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://uxwing.com/wp-content/themes/uxwing/download/web-app-development/home-button-icon.png\",alt:\"Home\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-sections\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"section-content\",children:[activeTab==='advice'&&/*#__PURE__*/_jsx(AdvicePosts,{user:user}),activeTab==='resources'&&/*#__PURE__*/_jsx(ResourcesPage,{}),activeTab==='community'&&/*#__PURE__*/_jsx(CommunityPage,{})]})}),activeTab==\"null\"&&/*#__PURE__*/_jsx(PersonalDashboardPage,{user:user})]});}export default UserProfile;","map":{"version":3,"names":["React","useState","useEffect","AdvicePosts","CommunityPage","ResourcesPage","PersonalDashboardPage","CreateAdvicePost","jsxs","_jsxs","jsx","_jsx","UserProfile","_ref","user","onLogout","adviceNav","postCreateNav","onNavigate","activeTab","setActiveTab","showCreateAdvicePosts","setCreateAdvicePosts","localStorage","getItem","handleLogout","e","preventDefault","response","fetch","method","headers","credentials","data","json","ok","Error","message","handleTabChange","error","tab","setItem","toggleCreatePosts","Fragment","children","className","name","onClick","src","alt"],"sources":["/home/tajuarb/Coding/newLeaf/frontend/src/components/userProfile.jsx"],"sourcesContent":["// In src/components/UserProfile.js\nimport React, { useState, useEffect } from 'react';\nimport './css/userProfile.css'; // Make sure to create a corresponding CSS file for styling\n\nimport AdvicePosts from './AdvicePosts';\n\nimport CommunityPage from './communityPage';\nimport ResourcesPage from './resourcesPage';\n\nimport PersonalDashboardPage from './personalDashboard';\n\nimport CreateAdvicePost from './CreateAdvicePost';\n\nfunction UserProfile({ user, onLogout, adviceNav, postCreateNav, onNavigate }) {\n    const [activeTab, setActiveTab] = useState(null);\n    const [showCreateAdvicePosts, setCreateAdvicePosts] = useState(false);\n    \n    useEffect(() => {\n        // Store the current page and user in localStorage whenever they change\n        setActiveTab(localStorage.getItem('activeTab'));\n    }, []);\n\n    \n\n    const handleLogout = async (e) => {\n        e.preventDefault();\n        //setError(''); // Reset error message\n        try {\n            const response = await fetch('/logout', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                credentials: 'include', // Necessary for sessions/cookies handling\n            });\n            const data = await response.json();\n            if (!response.ok) throw new Error(data.message || 'Failed to login');\n            handleTabChange(null);\n            onLogout(data);\n        } catch (error) {\n            //setError(error.message);\n        }\n    };\n\n    const handleTabChange = (tab) => {\n        localStorage.setItem('activeTab', tab);\n        setActiveTab(tab);\n        setCreateAdvicePosts(false);\n\n    };\n\n    const toggleCreatePosts = () => {\n        setCreateAdvicePosts(!showCreateAdvicePosts);\n    }\n\n    return (\n        <React.Fragment>\n        <div className=\"navigation-bar\"> \n            <div className=\"navigation-buttons\">\n                <div className=\"user-greeting\">Hi, {user.name}</div>\n                <div className=\"navigation-center\">\n                    <button onClick={() => handleTabChange('advice')} className={activeTab === 'advice' ? 'active' : ''}>Advice</button>\n                    <button onClick={() => handleTabChange('resources')} className={activeTab === 'resources' ? 'active' : ''}>Resources</button>\n                    <button onClick={() => handleTabChange('community')} className={activeTab === 'community' ? 'active' : ''}>Community</button>\n                </div>\n                <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n\n            </div>\n            \n            <button onClick={() => handleTabChange(\"null\")} className=\"home-button\">\n                        <img src=\"https://uxwing.com/wp-content/themes/uxwing/download/web-app-development/home-button-icon.png\" alt=\"Home\" />\n            </button>\n        </div>\n\n\n        <div className=\"profile-sections\">\n            <div className=\"section-content\">\n                {activeTab === 'advice' && <AdvicePosts user={user}/>}\n                {activeTab === 'resources' && <ResourcesPage />}\n                {activeTab === 'community' && <CommunityPage/>}\n            </div>\n        </div>\n\n        {activeTab== \"null\" && <PersonalDashboardPage user={user}/>}\n            \n\n\n        </React.Fragment>\n    );\n}\n\nexport default UserProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}