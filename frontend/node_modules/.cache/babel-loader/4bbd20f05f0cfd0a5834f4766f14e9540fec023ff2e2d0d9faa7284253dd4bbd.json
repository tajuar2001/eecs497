{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import LoginForm from'./components/loginForm';import RegisterForm from'./components/registerForm';import LandingPage from'./components/landingPage';import UserProfile from'./components/userProfile';import AdvicePosts from'./components/AdvicePosts';import CreateAdvicePost from'./components/CreateAdvicePost';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[message,setMessage]=useState('');const[user,setUser]=useState(JSON.parse(localStorage.getItem('user'))||null);const[currentPage,setCurrentPage]=useState(localStorage.getItem('currentPage')||'landing');const[error,setError]=useState('');useEffect(()=>{// Store the current page and user in localStorage whenever they change\nlocalStorage.setItem('currentPage',currentPage);localStorage.setItem('user',JSON.stringify(user));},[currentPage,user]);const handleLogin=userData=>{setUser(userData);setCurrentPage('landing');setError('');};const handleLogout=()=>{setUser(null);setCurrentPage('landing');setError('');};const handleRegister=userData=>{setCurrentPage('login');setError('');};const navigate=page=>{setCurrentPage(page);setError('');};const handleNavigateToAdvicePosts=()=>setCurrentPage('advicePosts');const handleNavigateToCreateAdvicePost=()=>setCurrentPage('createAdvicePost');return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"yellow-bar\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),user&&/*#__PURE__*/_jsx(UserProfile,{user:user,onLogout:handleLogout,adviceNav:handleNavigateToAdvicePosts,postCreateNav:handleNavigateToCreateAdvicePost,onNavigate:navigate}),!user&&currentPage==='landing'&&/*#__PURE__*/_jsx(LandingPage,{onNavigate:navigate}),!user&&currentPage==='login'&&/*#__PURE__*/_jsx(LoginForm,{onLogin:handleLogin,onBack:()=>navigate('landing')}),!user&&currentPage==='register'&&/*#__PURE__*/_jsx(RegisterForm,{onRegister:handleRegister,onBack:()=>navigate('landing')})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LoginForm","RegisterForm","LandingPage","UserProfile","AdvicePosts","CreateAdvicePost","jsx","_jsx","jsxs","_jsxs","App","message","setMessage","user","setUser","JSON","parse","localStorage","getItem","currentPage","setCurrentPage","error","setError","setItem","stringify","handleLogin","userData","handleLogout","handleRegister","navigate","page","handleNavigateToAdvicePosts","handleNavigateToCreateAdvicePost","className","children","onLogout","adviceNav","postCreateNav","onNavigate","onLogin","onBack","onRegister"],"sources":["/home/yume/eecs497/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport LoginForm from './components/loginForm';\nimport RegisterForm from './components/registerForm';\nimport LandingPage from './components/landingPage';\nimport UserProfile from './components/userProfile';\nimport AdvicePosts from './components/AdvicePosts';\nimport CreateAdvicePost from './components/CreateAdvicePost';\n\nfunction App() {\n    const [message, setMessage] = useState('');\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) || null);\n    const [currentPage, setCurrentPage] = useState(localStorage.getItem('currentPage') || 'landing');\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        // Store the current page and user in localStorage whenever they change\n        localStorage.setItem('currentPage', currentPage);\n        localStorage.setItem('user', JSON.stringify(user));\n    }, [currentPage, user]);\n\n    const handleLogin = (userData) => {\n        setUser(userData);\n        setCurrentPage('landing');\n        setError('');\n    };\n\n    const handleLogout = () => {\n        setUser(null);\n        setCurrentPage('landing');\n        setError('');\n    };\n\n    const handleRegister = (userData) => {\n        setCurrentPage('login');\n        setError('');\n    };\n \n    const navigate = (page) => {\n        setCurrentPage(page);\n        setError('');\n    };\n\n    const handleNavigateToAdvicePosts = () => setCurrentPage('advicePosts');\n    const handleNavigateToCreateAdvicePost = () => setCurrentPage('createAdvicePost');\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <div className=\"yellow-bar\"></div>\n                {error && <p className=\"error-message\">{error}</p>}\n                {user && <UserProfile user={user} onLogout={handleLogout} adviceNav={handleNavigateToAdvicePosts} postCreateNav = {handleNavigateToCreateAdvicePost} onNavigate={navigate} />}\n                {!user && currentPage === 'landing' && <LandingPage onNavigate={navigate} />}\n                {!user && currentPage === 'login' && <LoginForm onLogin={handleLogin} onBack={() => navigate('landing')} />}\n                {!user && currentPage === 'register' && <RegisterForm onRegister={handleRegister} onBack={() => navigate('landing')} />}\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}