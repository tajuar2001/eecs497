{"ast":null,"code":"import React,{useState,useEffect}from'react';import HelpPage from'./helpPage';import axios from'axios';import'./css/userProfile.css';import'./css/dashBoard.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PersonalDashboardPage(_ref){let{user}=_ref;const[kids,setKids]=useState([]);const[newKidName,setNewKidName]=useState('');const[newKidBirthday,setNewKidBirthday]=useState('');const[helpModalOpen,setHelpModalOpen]=useState(false);const[tags,setTags]=useState([]);const toggleHelpMode=()=>setHelpModalOpen(!helpModalOpen);useEffect(()=>{// This function fetches both kids and tags data\nconst fetchData=async()=>{try{// Fetch kids associated with the current user\nconst kidsResponse=await axios.get('/api/kids',{withCredentials:true// if your server requires authentication\n});setKids(kidsResponse.data);// Fetch tags associated with the current user\nconst tagsResponse=await axios.get('/api/user/tags',{withCredentials:true// if your server requires authentication\n});setTags(tagsResponse.data);}catch(error){console.error('Error fetching data:',error);// Handle errors (like showing a message to the user)\n}};fetchData();// Invoke the function to fetch data\n},[]);// Empty dependency array ensures this effect only runs once\nconst today=new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'});const handleAddKid=e=>{e.preventDefault();axios.post('/api/kids',{name:newKidName,birthday:newKidBirthday}).then(response=>{setKids(prev=>[...prev,{name:newKidName,birthday:newKidBirthday}]);}).catch(error=>{console.error('Error adding kid:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"user-profile-picture-url\",alt:\"User\",className:\"user-picture\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"profile-name\",children:\"Personal Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Hello, \",user.name]}),/*#__PURE__*/_jsx(\"p\",{className:\"date\",children:today})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kids-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My Kids\"}),/*#__PURE__*/_jsx(\"ul\",{children:kids.map((kid,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[kid.name,\" - \",kid.birthday]},index))})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddKid,className:\"add-kid-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newKidName,onChange:e=>setNewKidName(e.target.value),placeholder:\"Kid's name\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newKidBirthday,onChange:e=>setNewKidBirthday(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Kid\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"My Tags\"}),/*#__PURE__*/_jsx(\"ul\",{children:tags.map((tag,index)=>/*#__PURE__*/_jsx(\"li\",{children:tag.name},index))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"help-button\",onClick:toggleHelpMode,children:\"?\"}),helpModalOpen&&/*#__PURE__*/_jsx(HelpPage,{onClose:toggleHelpMode})]});}export default PersonalDashboardPage;","map":{"version":3,"names":["React","useState","useEffect","HelpPage","axios","jsx","_jsx","jsxs","_jsxs","PersonalDashboardPage","_ref","user","kids","setKids","newKidName","setNewKidName","newKidBirthday","setNewKidBirthday","helpModalOpen","setHelpModalOpen","tags","setTags","toggleHelpMode","fetchData","kidsResponse","get","withCredentials","data","tagsResponse","error","console","today","Date","toLocaleDateString","weekday","year","month","day","handleAddKid","e","preventDefault","post","name","birthday","then","response","prev","catch","className","children","src","alt","map","kid","index","onSubmit","type","value","onChange","target","placeholder","required","tag","onClick","onClose"],"sources":["/home/tajuarb/Coding/newLeaf/frontend/src/components/personalDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport HelpPage from './helpPage';\nimport axios from 'axios';\n\nimport './css/userProfile.css'; \nimport './css/dashBoard.css';\n\nfunction PersonalDashboardPage({ user }) {\n    const [kids, setKids] = useState([]);\n    const [newKidName, setNewKidName] = useState('');\n    const [newKidBirthday, setNewKidBirthday] = useState('');\n    const [helpModalOpen, setHelpModalOpen] = useState(false);\n    const [tags, setTags] = useState([]);\n    const toggleHelpMode = () => setHelpModalOpen(!helpModalOpen);\n\n    useEffect(() => {\n        // This function fetches both kids and tags data\n        const fetchData = async () => {\n            try {\n                // Fetch kids associated with the current user\n                const kidsResponse = await axios.get('/api/kids', {\n                    withCredentials: true // if your server requires authentication\n                });\n                setKids(kidsResponse.data);\n\n                // Fetch tags associated with the current user\n                const tagsResponse = await axios.get('/api/user/tags', {\n                    withCredentials: true // if your server requires authentication\n                });\n                setTags(tagsResponse.data);\n            } catch (error) {\n                console.error('Error fetching data:', error);\n                // Handle errors (like showing a message to the user)\n            }\n        };\n\n        fetchData(); // Invoke the function to fetch data\n    }, []); // Empty dependency array ensures this effect only runs once\n\n\n    const today = new Date().toLocaleDateString('en-US', { \n        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' \n    });\n\n    const handleAddKid = (e) => {\n        e.preventDefault();\n        axios.post('/api/kids', {\n            name: newKidName,\n            birthday: newKidBirthday\n        }).then(response => {\n            setKids(prev => [...prev, { name: newKidName, birthday: newKidBirthday }]);\n        }).catch(error => {\n            console.error('Error adding kid:', error);\n        });\n    };\n\n    return (\n        <div className=\"dashboard-container\">\n            <div className=\"user-info\">\n                <img src=\"user-profile-picture-url\" alt=\"User\" className=\"user-picture\" /> {/* Replace src with actual image path */}\n                <div className=\"user-details\">\n                    <h2 className=\"profile-name\">Personal Dashboard</h2>\n                    <p>Hello, {user.name}</p>\n                    <p className=\"date\">{today}</p>\n                </div>\n            </div>\n            <div className=\"kids-section\">\n                <h3>My Kids</h3>\n                <ul>\n                    {kids.map((kid, index) => (\n                        <li key={index}>{kid.name} - {kid.birthday}</li>\n                    ))}\n                </ul>\n            </div>\n            <form onSubmit={handleAddKid} className=\"add-kid-form\">\n                <input\n                    type=\"text\"\n                    value={newKidName}\n                    onChange={e => setNewKidName(e.target.value)}\n                    placeholder=\"Kid's name\"\n                    required\n                />\n                <input\n                    type=\"date\"\n                    value={newKidBirthday}\n                    onChange={e => setNewKidBirthday(e.target.value)}\n                    required\n                />\n                <button type=\"submit\">Add Kid</button>\n            </form>\n            <div className=\"tags-section\">\n                <h3>My Tags</h3>\n                <ul>\n                    {tags.map((tag, index) => (\n                        <li key={index}>{tag.name}</li>\n                    ))}\n                </ul>\n            </div>\n            <button className=\"help-button\" onClick={toggleHelpMode}>?</button>\n            {helpModalOpen && <HelpPage onClose={toggleHelpMode} />}\n        </div>\n    );\n}\n\nexport default PersonalDashboardPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}