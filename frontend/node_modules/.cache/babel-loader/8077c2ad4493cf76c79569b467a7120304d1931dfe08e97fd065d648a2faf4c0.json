{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import LoginForm from'./components/loginForm';import RegisterForm from'./components/registerForm';import LandingPage from'./components/landingPage';import UserProfile from'./components/userProfile';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[message,setMessage]=useState('');const[user,setUser]=useState(JSON.parse(localStorage.getItem('user'))||null);const[currentPage,setCurrentPage]=useState(localStorage.getItem('currentPage')||'landing');const[error,setError]=useState('');useEffect(()=>{// Store the current page and user in localStorage whenever they change\nlocalStorage.setItem('currentPage',currentPage);localStorage.setItem('user',JSON.stringify(user));},[currentPage,user]);const handleLogin=userData=>{setUser(userData);setCurrentPage('landing');setError('');};const handleLogout=()=>{setUser(null);setCurrentPage('landing');setError('');};const handleRegister=userData=>{setCurrentPage('login');setError('');};const navigate=page=>{setCurrentPage(page);setError('');};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"yellow-bar\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),user&&/*#__PURE__*/_jsx(UserProfile,{user:user,onLogout:handleLogout}),!user&&currentPage==='landing'&&/*#__PURE__*/_jsx(LandingPage,{onNavigate:navigate}),!user&&currentPage==='login'&&/*#__PURE__*/_jsx(LoginForm,{onLogin:handleLogin,onBack:()=>navigate('landing')}),!user&&currentPage==='register'&&/*#__PURE__*/_jsx(RegisterForm,{onRegister:handleRegister,onBack:()=>navigate('landing')})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LoginForm","RegisterForm","LandingPage","UserProfile","jsx","_jsx","jsxs","_jsxs","App","message","setMessage","user","setUser","JSON","parse","localStorage","getItem","currentPage","setCurrentPage","error","setError","setItem","stringify","handleLogin","userData","handleLogout","handleRegister","navigate","page","className","children","onLogout","onNavigate","onLogin","onBack","onRegister"],"sources":["/home/yume/eecs497/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport LoginForm from './components/loginForm';\nimport RegisterForm from './components/registerForm';\nimport LandingPage from './components/landingPage';\nimport UserProfile from './components/userProfile';\n\nfunction App() {\n    const [message, setMessage] = useState('');\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) || null);\n    const [currentPage, setCurrentPage] = useState(localStorage.getItem('currentPage') || 'landing');\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        // Store the current page and user in localStorage whenever they change\n        localStorage.setItem('currentPage', currentPage);\n        localStorage.setItem('user', JSON.stringify(user));\n    }, [currentPage, user]);\n\n    const handleLogin = (userData) => {\n        setUser(userData);\n        setCurrentPage('landing');\n        setError('');\n    };\n\n    const handleLogout = () => {\n        setUser(null);\n        setCurrentPage('landing');\n        setError('');\n    };\n\n    const handleRegister = (userData) => {\n        setCurrentPage('login');\n        setError('');\n    };\n \n    const navigate = (page) => {\n        setCurrentPage(page);\n        setError('');\n    };\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <div className=\"yellow-bar\"></div>\n                {error && <p className=\"error-message\">{error}</p>}\n                {user && <UserProfile user={user} onLogout={handleLogout} />}\n                {!user && currentPage === 'landing' && <LandingPage onNavigate={navigate} />}\n                {!user && currentPage === 'login' && (\n                    <LoginForm onLogin={handleLogin} onBack={() => navigate('landing')} />\n                )}\n                {!user && currentPage === 'register' && (\n                    <RegisterForm onRegister={handleRegister} onBack={() => navigate('landing')} />\n                )}\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}